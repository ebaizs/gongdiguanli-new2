async function compressImageToSize(source,maxWidth=CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0049\u004D\u0041\u0047\u0045\u005F\u004D\u0041\u0058\u005F\u0057\u0049\u0044\u0054\u0048']){return new Promise((resolve,reject)=>{if(typeof source==="gnirts".split("").reverse().join("")&&source['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0x1a1d(source);return;}if(source instanceof File){var _0x41ge4f=(329847^329845)+(445883^445884);const _0x7ce91b=new FileReader();_0x41ge4f=(848476^848479)+(567709^567706);_0x7ce91b['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){_0x1a1d(e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074']);};_0x7ce91b['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0x7ce91b['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](source);return;}function _0x1a1d(dataUrl){const _0xe1b0a=new Image();_0xe1b0a['\u006F\u006E\u006C\u006F\u0061\u0064']=function(){var _0xef63fe;const _0x77af=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0063\u0061\u006E\u0076\u0061\u0073");_0xef63fe=301822^301821;const _0x4f_0xe53=_0x77af['\u0067\u0065\u0074\u0043\u006F\u006E\u0074\u0065\u0078\u0074']("\u0032\u0064");var _0xb_0xe4b=(703957^703957)+(309568^309571);let _0x7b4a=_0xe1b0a['\u0077\u0069\u0064\u0074\u0068'];_0xb_0xe4b=(812167^812175)+(418680^418684);let _0x4eee9b=_0xe1b0a['\u0068\u0065\u0069\u0067\u0068\u0074'];if(_0x7b4a>maxWidth){_0x4eee9b=Math['\u0072\u006F\u0075\u006E\u0064'](_0x4eee9b*maxWidth/_0x7b4a);_0x7b4a=maxWidth;}_0x77af['\u0077\u0069\u0064\u0074\u0068']=_0x7b4a;_0x77af['\u0068\u0065\u0069\u0067\u0068\u0074']=_0x4eee9b;_0x4f_0xe53['\u0064\u0072\u0061\u0077\u0049\u006D\u0061\u0067\u0065'](_0xe1b0a,563564^563564,330077^330077,_0x7b4a,_0x4eee9b);const _0x48a=dataUrl['\u0073\u0070\u006C\u0069\u0074']("\u003B")[893472^893472]['\u0073\u0070\u006C\u0069\u0074']("\u003A")[493636^493637]||"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067";if(_0x48a==="gepj/egami".split("").reverse().join("")||_0x48a==="\u0069\u006D\u0061\u0067\u0065\u002F\u0077\u0065\u0062\u0070"){resolve(_0x77af['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0x48a,0.6));}else if(_0x48a==="gnp/egami".split("").reverse().join("")){resolve(_0x77af['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("gnp/egami".split("").reverse().join("")));}else{resolve(_0x77af['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067",0.6));}};_0xe1b0a['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0xe1b0a['\u0073\u0072\u0063']=dataUrl;}});}function addChangeLog(action,details){if(!currentUser)return;const _0x8d_0x8de={"timestamp":new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("NC-hz".split("").reverse().join("")),'\u0075\u0073\u0065\u0072':currentUser['\u006E\u0061\u006D\u0065'],'\u0061\u0063\u0074\u0069\u006F\u006E':action,"details":details,"siteId":currentSiteId,'\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065':currentSiteId?sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId)?.name:''};changeLog['\u0075\u006E\u0073\u0068\u0069\u0066\u0074'](_0x8d_0x8de);if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']>(293131^293603)){changeLog=changeLog['\u0073\u006C\u0069\u0063\u0065'](285685^285685,296434^296474);}saveData();}function showChangeLog(){if(!canShowChangeLog()){alert("\u26A0\uFE0F\u0020\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u67E5\u770B\u66F4\u6539\u65E5\u5FD7\uFF01");return;}document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006D\u0061\u0069\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("egaPgoLegnahc".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");const _0x788f9e=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067\u004C\u0069\u0073\u0074");_0x788f9e['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']='';if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']===(230807^230807)){_0x788f9e['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="\u003C\u0070\u0020\u0063\u006C\u0061\u0073\u0073\u003D\u0022\u006C\u006F\u0061\u0064\u0069\u006E\u0067\u0022\u003E\u6682\u65E0\u66F4\u6539\u65E5\u5FD7\u003C\u002F\u0070\u003E";return;}changeLog['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](log=>{const _0x548ab=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0x548ab['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="meti-gol-egnahc".split("").reverse().join("");_0x548ab['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div class="change-log-header">
                <span>${log['\u0075\u0073\u0065\u0072']} - ${log['\u0061\u0063\u0074\u0069\u006F\u006E']}</span>
                <span class="change-log-time">${log['\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070']}</span>
            </div>
            <div class="change-log-content">
                ${log['\u0064\u0065\u0074\u0061\u0069\u006C\u0073']}
                ${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']?`<br><small>工地：${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']}</small>`:''}
            </div>
        `;_0x788f9e['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x548ab);});}function hideChangeLog(){document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006D\u0061\u0069\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("egaPgoLegnahc".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";}function previewDrawing(event){const _0x52g2e=event['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0066\u0069\u006C\u0065\u0073'][925265^925265];if(!_0x52g2e)return;const _0x8d2=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0050\u0072\u0065\u0076\u0069\u0065\u0077");if(_0x52g2e['\u0074\u0079\u0070\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("/egami".split("").reverse().join(""))){previewRepairPhotoForDrawing(_0x52g2e,_0x8d2);}else{var _0x_0xa88=(343347^343345)+(282290^282293);const _0xa9f=new FileReader();_0x_0xa88="pggdfa".split("").reverse().join("");_0xa9f['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e,_0xb41a,_0x2e364f){var _0x817dc=(413300^413297)+(988962^988965);const _0x3902b=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];_0x817dc="jpldqf".split("").reverse().join("");_0x8d2['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0x3902b;_0x8d2['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x52g2e['\u006E\u0061\u006D\u0065'];_0x8d2['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=_0x52g2e['\u0074\u0079\u0070\u0065'];_0x8d2['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=_0x52g2e['\u0073\u0069\u007A\u0065'];_0xb41a="\uD83D\uDCC4";var _0x9e_0x62a;_0x2e364f="\u6863\u6587".split("").reverse().join("");_0x9e_0x62a=(611188^611191)+(641777^641783);if(_0x52g2e['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("fdp".split("").reverse().join(""))){_0xb41a="\uD83D\uDCD5";_0x2e364f="\u0050\u0044\u0046\u6587\u4EF6";}else if(_0x52g2e['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("lecxe".split("").reverse().join(""))||_0x52g2e['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0068\u0065\u0065\u0074")){_0xb41a="\uD83D\uDCCA";_0x2e364f="\u0045\u0078\u0063\u0065\u006C\u6587\u4EF6";}else if(_0x52g2e['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0077\u006F\u0072\u0064")){_0xb41a="\uD83D\uDCDD";_0x2e364f="\u0057\u006F\u0072\u0064\u6587\u4EF6";}else if(_0x52g2e['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0063\u0073\u0076")){_0xb41a="\uD83D\uDCCB";_0x2e364f="\u0043\u0053\u0056\u6587\u4EF6";}_0x8d2['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <div style="font-size: 48px; color: #667eea;">${_0xb41a}</div>
                    <div style="font-weight: bold; margin: 10px 0;">${_0x2e364f}</div>
                    <div style="word-break: break-all;">${_0x52g2e['\u006E\u0061\u006D\u0065']}</div>
                    <div style="font-size: 12px; color: #666; margin-top: 5px;">
                        ${(_0x52g2e['\u0073\u0069\u007A\u0065']/(925673^924649))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](897439^897438)} KB
                    </div>
                </div>
            `;};_0xa9f['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0x52g2e);}}function previewRepairPhotoForDrawing(file,preview){preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="\u003C\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0074\u0065\u0078\u0074\u002D\u0061\u006C\u0069\u0067\u006E\u003A\u0020\u0063\u0065\u006E\u0074\u0065\u0072\u003B\u0020\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0031\u0030\u0070\u0078\u003B\u0020\u0063\u006F\u006C\u006F\u0072\u003A\u0020\u0023\u0036\u0036\u0036\u003B\u0022\u003E\u6B63\u5728\u5904\u7406\u56FE\u7247\u002E\u002E\u002E\u003C\u002F\u0064\u0069\u0076\u003E";if(typeof compressImageToSize==="noitcnuf".split("").reverse().join("")){compressImageToSize(file,904362^904542)['\u0074\u0068\u0065\u006E'](compressedDataUrl=>{preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                    <div style="text-align: center; padding: 10px;">
                        <img src="${compressedDataUrl}" class="image-preview" onclick="viewImage('${compressedDataUrl}')" 
                             style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                        <div style="margin-top: 5px; font-size: 12px; color: #666;">
                            ${file['\u006E\u0061\u006D\u0065']}<br>
                            <small>已压缩</small>
                        </div>
                    </div>
                `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=compressedDataUrl;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];console['\u006C\u006F\u0067']("\u5907\u51C6\u5DF2\u636E\u6570\uFF0C\u6210\u5B8C\u7F29\u538B\u7247\u56FE\u7EB8\u56FE".split("").reverse().join(""));})['\u0063\u0061\u0074\u0063\u0068'](error=>{console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7406\u5904\u7247\u56FE\u7EB8\u56FE".split("").reverse().join(""),error);preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=">vid/<\u8D25\u5931\u7406\u5904\u7247\u56FE>\";der :roloc\"=elyts vid<".split("").reverse().join("");});}else{var _0x3bb4b=(803663^803660)+(668958^668951);const _0x78e3a=new FileReader();_0x3bb4b=(284128^284135)+(814587^814591);_0x78e3a['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){const _0xf1e=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <img src="${_0xf1e}" class="image-preview" onclick="viewImage('${_0xf1e}')" 
                         style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        ${file['\u006E\u0061\u006D\u0065']}<br>
                        <small>原始图片</small>
                    </div>
                </div>
            `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0xf1e;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];};_0x78e3a['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](file);}}function getMimeTypeFromFileName(fileName){const _0x04b32a=(fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u0070\u006F\u0070']()||'')['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();const _0xca9fae={'jpg':'image/jpeg',"\u006A\u0070\u0065\u0067":'image/jpeg',"\u0070\u006E\u0067":'image/png',"\u0067\u0069\u0066":"\u0069\u006D\u0061\u0067\u0065\u002F\u0067\u0069\u0066","\u0077\u0065\u0062\u0070":'image/webp',"\u0062\u006D\u0070":"\u0069\u006D\u0061\u0067\u0065\u002F\u0062\u006D\u0070",'pdf':'application/pdf',"\u0078\u006C\u0073":'application/vnd.ms-excel',"\u0078\u006C\u0073\u0078":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074","\u0064\u006F\u0063":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006D\u0073\u0077\u006F\u0072\u0064",'docx':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0077\u006F\u0072\u0064\u0070\u0072\u006F\u0063\u0065\u0073\u0073\u0069\u006E\u0067\u006D\u006C\u002E\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074",'csv':"\u0074\u0065\u0078\u0074\u002F\u0063\u0073\u0076","\u0074\u0078\u0074":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E","\u006A\u0073\u006F\u006E":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"};return _0xca9fae[_0x04b32a]||"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006F\u0063\u0074\u0065\u0074\u002D\u0073\u0074\u0072\u0065\u0061\u006D";}function getExtensionFromMimeType(mimeType){var _0x76c3f=(983513^983519)+(466513^466515);const _0x5_0x8e4={"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067":"\u006A\u0070\u0067","\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067":"\u0070\u006E\u0067","\u0069\u006D\u0061\u0067\u0065\u002F\u0067\u0069\u0066":"\u0067\u0069\u0066","\u0069\u006D\u0061\u0067\u0065\u002F\u0077\u0065\u0062\u0070":"\u0077\u0065\u0062\u0070",'image/bmp':"\u0062\u006D\u0070","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0070\u0064\u0066":"\u0070\u0064\u0066","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006D\u0073\u002D\u0065\u0078\u0063\u0065\u006C":"\u0078\u006C\u0073","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074":"\u0078\u006C\u0073\u0078","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006D\u0073\u0077\u006F\u0072\u0064":"\u0064\u006F\u0063",'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'docx',"\u0074\u0065\u0078\u0074\u002F\u0063\u0073\u0076":"\u0063\u0073\u0076","\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E":'txt',"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E":"\u006A\u0073\u006F\u006E"};_0x76c3f=(768704^768710)+(815779^815781);return _0x5_0x8e4[mimeType]||"\u0062\u0069\u006E";}function getExtensionFromFileName(fileName){if(!fileName)return null;var _0xcddee=(747975^747975)+(764460^764458);const _0x7327a=fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E");_0xcddee='\u006C\u006A\u0067\u006E\u0062\u0068';return _0x7327a['\u006C\u0065\u006E\u0067\u0074\u0068']>(330734^330735)?_0x7327a[_0x7327a['\u006C\u0065\u006E\u0067\u0074\u0068']-(654098^654099)]['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']():null;}function getDrawingTypeText(type){var _0xecf4b=(465319^465327)+(993167^993163);const _0x4aa5gd={'design':"\u8BBE\u8BA1\u56FE\u7EB8",'quote':"\u62A5\u4EF7\u8868","\u006F\u0074\u0068\u0065\u0072":"\u5176\u4ED6"};_0xecf4b='\u006E\u0061\u006F\u0069\u0063\u0066';return _0x4aa5gd[type]||"\u77E5\u672A".split("").reverse().join("");}function getFileIcon(fileType){if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0070\u0064\u0066"))return"\uD83D\uDCD5";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0065\u0078\u0063\u0065\u006C")||fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0068\u0065\u0065\u0074"))return"\uD83D\uDCCA";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("drow".split("").reverse().join("")))return"\uDCDD\uD83D".split("").reverse().join("");if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("vsc".split("").reverse().join("")))return"\uD83D\uDCCB";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("egami".split("").reverse().join("")))return"\uD83D\uDDBC\uFE0F";return"\uDCC4\uD83D".split("").reverse().join("");}function checkDataSizeBeforeUpload(){try{const _0xdbe8cb={"sites":JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0073\u0069\u0074\u0065\u0073']||[])),'\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[]))};const _0xc2_0xb79=JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](_0xdbe8cb);var _0xge42gf=(988842^988834)+(503328^503333);const _0xda0gef=_0xc2_0xb79['\u006C\u0065\u006E\u0067\u0074\u0068'];_0xge42gf=(931512^931518)+(781709^781711);var _0x49ca=(769186^769191)+(649323^649322);let _0xe65c=584690^584690;_0x49ca='\u006B\u0064\u0067\u0071\u006B\u0067';let _0x1f88gc=148555^148555;(window['\u0073\u0069\u0074\u0065\u0073']||[])['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](repair=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068'](":atad".split("").reverse().join(""))){_0xe65c+=repair['\u0070\u0068\u006F\u0074\u006F']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x1f88gc++;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](drawing=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0xe65c+=drawing['\u0066\u0069\u006C\u0065']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x1f88gc++;}});}});const _0xf4ef2b=_0xda0gef+_0xe65c;var _0x15eb=(378526^378520)+(822351^822350);const _0xeg5d=bytes=>{if(bytes<(188729^189753))return bytes+"\u0020\u0042";if(bytes<(392856^391832)*(507522^506498))return(bytes/(759396^758372))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](228380^228381)+"\u0020\u004B\u0042";if(bytes<(381048^382072)*(980955^979931)*(199016^200040))return(bytes/((100814^101838)*(744294^745318)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](271242^271243)+"\u0020\u004D\u0042";return(bytes/((582688^581664)*(836970^835946)*(692304^693328)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](539827^539826)+"\u0020\u0047\u0042";};_0x15eb=(972817^972820)+(953638^953634);return{"canUpload":_0xf4ef2b<CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0047\u0049\u0053\u0054\u005F\u0053\u0041\u0046\u0045'],"totalSize":_0xf4ef2b,"humanSize":_0xeg5d(_0xf4ef2b),"textSize":_0xeg5d(_0xda0gef),'\u0069\u006D\u0061\u0067\u0065\u0053\u0069\u007A\u0065':_0xeg5d(_0xe65c),"imageCount":_0x1f88gc,'\u0077\u0061\u0072\u006E\u0069\u006E\u0067':_0xf4ef2b>(168122^168124)*(297815^298839)*(105488^104464)?"\u7247\u56FE\u7F29\u538B\u8BAE\u5EFA\uFF0C\u5927\u8F83\u636E\u6570".split("").reverse().join(""):"\u5927\u5C0F\u6B63\u5E38"};}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u68C0\u67E5\u6570\u636E\u5927\u5C0F\u5931\u8D25\u003A",error);return{"canUpload":!![],"humanSize":'未知大小',"warning":"\u65E0\u6CD5\u8BA1\u7B97\u6570\u636E\u5927\u5C0F"};}}function formatDate(dateStr){if(!dateStr)return'';if(dateStr['\u006D\u0061\u0074\u0063\u0068'](new RegExp("$}2{d\\-}2{d\\-}4{d\\^".split("").reverse().join(""),""))){return dateStr;}var _0xa644b=(200272^200274)+(687155^687163);const _0x76094a=new Date(dateStr);_0xa644b=(977756^977756)+(984715^984714);if(isNaN(_0x76094a['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()))return dateStr;return _0x76094a['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()['\u0073\u0070\u006C\u0069\u0074']("\u0054")[840361^840361];}function convertAllTimesToDate(){if(!window['\u0073\u0069\u0074\u0065\u0073'])return;window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0x0gf26d=[{"field":"\u0074\u006F\u0064\u006F\u0073","subfield":'time'},{"field":"\u0065\u0078\u0070\u0065\u006E\u0073\u0065\u0073","subfield":'time'},{'\u0066\u0069\u0065\u006C\u0064':"\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0073",'\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':'time'},{'\u0066\u0069\u0065\u006C\u0064':"\u0072\u0065\u0070\u0061\u0069\u0072\u0073","subfield":"\u0074\u0069\u006D\u0065"},{"field":'workers',"subfield":["emit".split("").reverse().join(""),"\u0073\u0074\u0061\u0072\u0074\u0054\u0069\u006D\u0065","\u0065\u006E\u0064\u0054\u0069\u006D\u0065"]},{'\u0066\u0069\u0065\u006C\u0064':'addRemoveItems','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':'time'},{"field":'drawings',"subfield":"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':'experiences','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':'time'},{'\u0066\u0069\u0065\u006C\u0064':'dailyLogs','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"}];_0x0gf26d['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](({"field":field,"subfield":subfield})=>{if(site[field]&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[field])){site[field]['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](item=>{if(Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](subfield)){subfield['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](f=>{if(item[f]&&!item[f]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){item[f]=formatDate(item[f]);}});}else if(item[subfield]&&!item[subfield]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){item[subfield]=formatDate(item[subfield]);}});}});});}async function loadFromJsContent(content){try{var _0x5d5a3d=(847594^847596)+(706052^706054);const _0xdgacg=new Function(content+"\u000A\u0072\u0065\u0074\u0075\u0072\u006E\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u003B");_0x5d5a3d=537343^537341;var _0x9fg;const _0xc56f7g=_0xdgacg();_0x9fg=(389474^389473)+(709828^709836);if(!_0xc56f7g){throw new Error("\u004A\u0053\u0020\u6587\u4EF6\u4E2D\u6CA1\u6709\u627E\u5230\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u0020\u53D8\u91CF");}window['\u0073\u0069\u0074\u0065\u0073']=_0xc56f7g['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0xc56f7g['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u89E3\u6790\u0020\u004A\u0053\u0020\u6587\u4EF6\u5931\u8D25\u003A",error);throw new Error(" :\u8D25\u5931\u4EF6\u6587 SJ \u6790\u89E3".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function loadFromJsonContent(content,fileName){try{var _0x59364f;const _0x9effed=JSON['\u0070\u0061\u0072\u0073\u0065'](content);_0x59364f=(911630^911624)+(229378^229379);window['\u0073\u0069\u0074\u0065\u0073']=_0x9effed['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0x9effed['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A",error);throw new Error("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function restoreFilesFromZip(zip,_0x374eaf,_0x31bc){console['\u006C\u006F\u0067']("\u5F00\u59CB\u4ECE\u005A\u0049\u0050\u6062\u590D\u6587\u4EF6\u002E\u002E\u002E");_0x374eaf=351589^351589;var _0x3fc73g;_0x31bc=666335^666335;_0x3fc73g=895451^895450;var _0x8c_0x5d1;const _0x43178d=zip['\u0066\u0069\u006C\u0065']("\u6587\u4EF6\u4F4D\u7F6E\u4FE1\u606F\u002E\u006A\u0073\u006F\u006E");_0x8c_0x5d1=(304022^304031)+(710186^710188);if(_0x43178d){try{const _0x5c6e=JSON['\u0070\u0061\u0072\u0073\u0065'](await _0x43178d['\u0061\u0073\u0079\u006E\u0063']("\u0074\u0065\u0078\u0074"));console['\u006C\u006F\u0067']("\u627E\u5230\u4F4D\u7F6E\u4FE1\u606F\u6587\u4EF6\u003A",_0x5c6e);for(const _0xce65c of _0x5c6e['\u0073\u0069\u0074\u0065\u0073']){var _0x66cdff=(548342^548338)+(890277^890272);const site=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{if(s['\u0069\u0064']===_0xce65c['\u0069\u0064'])return!![];const _0x079b=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");return _0x079b===_0xce65c['\u0066\u006F\u006C\u0064\u0065\u0072'];});_0x66cdff=560823^560820;if(site){for(const _0xca7g of _0xce65c['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){const filePath=`shuju/${_0xca7g['\u0070\u0061\u0074\u0068']}`;var _0x75bedf;const file=zip['\u0066\u0069\u006C\u0065'](filePath);_0x75bedf=437343^437340;if(file){try{const base64=await file['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));const mimeType=getMimeTypeFromFileName(_0xca7g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);const _0x327dea=site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0069\u0064']===_0xca7g['\u0072\u0065\u0070\u0061\u0069\u0072\u0049\u0064']||r['\u0063\u006F\u006E\u0074\u0065\u006E\u0074']===_0xca7g['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||r['\u0070\u0068\u006F\u0074\u006F']&&r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xca7g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});if(_0x327dea){if(mimeType['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){var _0xae8e=(691487^691484)+(392295^392303);const _0xe01c=await compressImageToSize(`data:${mimeType};base64,${base64}`);_0xae8e=(691145^691137)+(311619^311621);_0x327dea['\u0070\u0068\u006F\u0074\u006F']=_0xe01c;}else{_0x327dea['\u0070\u0068\u006F\u0074\u006F']=`data:${mimeType};base64,${base64}`;}_0x327dea['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0xca7g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复维修图片: ${filePath}`);_0x374eaf++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的维修项: ${_0xca7g['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']}`);_0x31bc++;}}catch(e){console['\u0077\u0061\u0072\u006E']("\u6062\u590D\u7EF4\u4FEE\u56FE\u7247\u5931\u8D25\u003A",e);_0x31bc++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x31bc++;}}for(const _0xf52f1a of _0xce65c['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){var _0xdfaf6b=(542032^542037)+(954983^954983);const filePath=`shuju/${_0xf52f1a['\u0070\u0061\u0074\u0068']}`;_0xdfaf6b=(252549^252548)+(737641^737645);const file=zip['\u0066\u0069\u006C\u0065'](filePath);if(file){try{const base64=await file['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));var _0x108db;const mimeType=getMimeTypeFromFileName(_0xf52f1a['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);_0x108db=(658691^658694)+(441894^441888);const _0xb5f7ba=site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0069\u0064']===_0xf52f1a['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0049\u0064']||d['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']===_0xf52f1a['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||d['\u0066\u0069\u006C\u0065']&&d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xf52f1a['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});if(_0xb5f7ba){_0xb5f7ba['\u0066\u0069\u006C\u0065']=`data:${mimeType};base64,${base64}`;_0xb5f7ba['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0xf52f1a['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||_0xf52f1a['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复图纸文件: ${filePath}`);_0x374eaf++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的图纸: ${_0xf52f1a['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']}`);_0x31bc++;}}catch(e){console['\u0077\u0061\u0072\u006E']("\u6062\u590D\u56FE\u7EB8\u6587\u4EF6\u5931\u8D25\u003A",e);_0x31bc++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x31bc++;}}}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的工地: ${_0xce65c['\u0066\u006F\u006C\u0064\u0065\u0072']}`);}}}catch(error){console['\u0077\u0061\u0072\u006E']("\u89E3\u6790\u4F4D\u7F6E\u4FE1\u606F\u6587\u4EF6\u5931\u8D25\u003A",error);}}if(_0x374eaf===(884430^884430)){console['\u006C\u006F\u0067']("...\u4EF6\u6587\u590D\u6062\u6784\u7ED3\u5939\u4EF6\u6587\u6309".split("").reverse().join(""));const _0xf5adbf=[];zip['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((relativePath,zipEntry)=>{if(!zipEntry['\u0064\u0069\u0072']){_0xf5adbf['\u0070\u0075\u0073\u0068'](processZipFile(zipEntry,relativePath));}});var _0x75f=(343487^343487)+(882184^882176);const _0x147g=await Promise['\u0061\u006C\u006C\u0053\u0065\u0074\u0074\u006C\u0065\u0064'](_0xf5adbf);_0x75f=(561045^561044)+(555190^555188);_0x147g['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](result=>{if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="dellifluf".split("").reverse().join("")&&result['\u0076\u0061\u006C\u0075\u0065']){_0x374eaf++;}else if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="\u0072\u0065\u006A\u0065\u0063\u0074\u0065\u0064"){_0x31bc++;}});}if(_0x374eaf>(282757^282757)){saveData();}console['\u006C\u006F\u0067'](`文件恢复完成: 成功 ${_0x374eaf} 个, 失败 ${_0x31bc} 个`);if(new RegExp('\u0041\u006E\u0064\u0072\u006F\u0069\u0064\u007C\u0077\u0065\u0062\u004F\u0053\u007C\u0069\u0050\u0068\u006F\u006E\u0065\u007C\u0069\u0050\u0061\u0064\u007C\u0069\u0050\u006F\u0064\u007C\u0042\u006C\u0061\u0063\u006B\u0042\u0065\u0072\u0072\u0079\u007C\u0049\u0045\u004D\u006F\u0062\u0069\u006C\u0065\u007C\u004F\u0070\u0065\u0072\u0061\u0020\u004D\u0069\u006E\u0069','\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074'])){setTimeout(()=>{if(currentSiteId){var _0x40817b=(484157^484159)+(565133^565128);const site=sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId);_0x40817b=(599474^599482)+(749799^749796);if(site){loadSiteData(site);fixMobileUI();}}},292627^292727);}return{'\u0072\u0065\u0073\u0074\u006F\u0072\u0065\u0064\u0043\u006F\u0075\u006E\u0074':_0x374eaf,'\u0066\u0061\u0069\u006C\u0065\u0064\u0043\u006F\u0075\u006E\u0074':_0x31bc};}async function processZipFile(zipEntry,relativePath){if(!relativePath['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0073\u0068\u0075\u006A\u0075\u002F")){console['\u0077\u0061\u0072\u006E'](`文件不在shuju文件夹内: ${relativePath}`);return false;}const _0x28d=relativePath['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](412883^412885);const _0x8c1ebe=_0x28d['\u0073\u0070\u006C\u0069\u0074']("\u002F");if(_0x8c1ebe['\u006C\u0065\u006E\u0067\u0074\u0068']<(969146^969145)){console['\u0077\u0061\u0072\u006E'](`路径层级不足: ${relativePath}`);return false;}var _0x1ea46g;const _0xfdd=_0x8c1ebe[975807^975807];_0x1ea46g='\u0062\u0063\u0070\u0067\u0069\u0070';var _0xdef65a;const _0x0eee=_0x8c1ebe[255997^255996];_0xdef65a=(897671^897666)+(175916^175916);var _0xeb619c;const _0x5fc64c=_0x8c1ebe['\u0073\u006C\u0069\u0063\u0065'](977939^977937)['\u006A\u006F\u0069\u006E']("\u002F");_0xeb619c=798994^798992;var _0x01539a;const _0xea75b=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{var _0xc_0xe9b;const _0xd_0x7c8=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u005C\u005C\u002F\u003A\u002A\u003F\u0022\u003C\u003E\u007C\u005D','\u0067'),"\u005F");_0xc_0xe9b=(982530^982532)+(234864^234870);return _0xd_0x7c8===_0xfdd;});_0x01539a="fobglq".split("").reverse().join("");if(!_0xea75b){console['\u0077\u0061\u0072\u006E'](`未找到对应工地: ${_0xfdd}`);return false;}try{var _0xfe64c;const _0xd4d=await zipEntry['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));_0xfe64c=(502314^502319)+(231474^231477);var _0x1351e=(250135^250129)+(493335^493335);const _0xc5ffa=getMimeTypeFromFileName(_0x5fc64c);_0x1351e=(516598^516595)+(547340^547342);if(_0x0eee==="\u0072\u0065\u0070\u0061\u0069\u0072\u0073"){var _0x97f=(439615^439613)+(116350^116344);const _0x1ddf=extractIndexFromFileName(_0x5fc64c,"riaper".split("").reverse().join(""));_0x97f=115376^115380;if(_0x1ddf!==null&&_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x1ddf]){if(_0xc5ffa['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){const compressedDataUrl=await compressImageToSize(`data:${_0xc5ffa};base64,${_0xd4d}`);_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x1ddf]['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x1ddf]['\u0070\u0068\u006F\u0074\u006F']=`data:${_0xc5ffa};base64,${_0xd4d}`;}_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x1ddf]['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0x5fc64c;return!![];}if(_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){var _0xee54e=(670177^670182)+(619638^619638);const _0x41275b=_0xea75b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0070\u0068\u006F\u0074\u006F']&&(r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x5fc64c)||r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xfdd));});_0xee54e=(716455^716455)+(165849^165853);if(_0x41275b){if(_0xc5ffa['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("/egami".split("").reverse().join(""))){const compressedDataUrl=await compressImageToSize(`data:${_0xc5ffa};base64,${_0xd4d}`);_0x41275b['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0x41275b['\u0070\u0068\u006F\u0074\u006F']=`data:${_0xc5ffa};base64,${_0xd4d}`;}_0x41275b['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0x5fc64c;return!![];}}}else if(_0x0eee==="\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073"){const _0x4gd84b=extractIndexFromFileName(_0x5fc64c,"\u0064\u0072\u0061\u0077\u0069\u006E\u0067");if(_0x4gd84b!==null&&_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x4gd84b]){_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x4gd84b]['\u0066\u0069\u006C\u0065']=`data:${_0xc5ffa};base64,${_0xd4d}`;_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x4gd84b]['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x5fc64c;return!![];}if(_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){const _0xdbc=_0xea75b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0066\u0069\u006C\u0065']&&(d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x5fc64c)||d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xfdd));});if(_0xdbc){_0xdbc['\u0066\u0069\u006C\u0065']=`data:${_0xc5ffa};base64,${_0xd4d}`;_0xdbc['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x5fc64c;return!![];}}}console['\u0077\u0061\u0072\u006E'](`无法匹配文件: ${relativePath}`);return false;}catch(error){console['\u0077\u0061\u0072\u006E'](`处理文件失败: ${relativePath}`,error);return false;}}function extractIndexFromFileName(fileName,prefix){var _0x98447c;const _0xdged=new RegExp(`${prefix}_(\\d+)\\.`);_0x98447c='\u006C\u006B\u006B\u0068\u0062\u0069';var _0xe1bff=(586808^586811)+(922215^922222);const _0x83da=fileName['\u006D\u0061\u0074\u0063\u0068'](_0xdged);_0xe1bff='\u006C\u0065\u0069\u0067\u006B\u0063';return _0x83da?parseInt(_0x83da[242419^242418],725943^725949)-(886390^886391):null;}function removeAllBase64Data(sitesArray){if(!sitesArray)return;sitesArray['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0xf4ca2b=(site['\u006E\u0061\u006D\u0065']||`site_${site['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u005C\u005C\u002F\u003A\u002A\u003F\u0022\u003C\u003E\u007C\u005D','\u0067'),"\u005F");if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((repair,index)=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068'](":atad".split("").reverse().join(""))){var _0xb9d0f;const extension=repair['\u0070\u0068\u006F\u0074\u006F']['\u006D\u0061\u0074\u0063\u0068'](new RegExp(";)+w\\(/\\egami:atad^".split("").reverse().join(""),""))?.[777879^777878]||"gpj".split("").reverse().join("");_0xb9d0f=(747071^747071)+(868101^868101);repair['\u0070\u0068\u006F\u0074\u006F']=`[PHOTO:${_0xf4ca2b}/repairs/repair_${index+(669580^669581)}.${extension}]`;repair['\u0068\u0061\u0073\u0050\u0068\u006F\u0074\u006F']=!![];repair['\u0070\u0068\u006F\u0074\u006F\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((drawing,index)=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){var _0x7e71f=(132320^132322)+(328131^328129);const _0x93c0b=drawing['\u0066\u0069\u006C\u0065']['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u0064\u0061\u0074\u0061\u003A\u0028\u005B\u005E\u003B\u005D\u002B\u0029\u003B',""));_0x7e71f=307708^307711;if(_0x93c0b){var _0xcf_0x276=(567060^567060)+(928055^928062);const _0x4cafac=_0x93c0b[314909^314908];_0xcf_0x276=386302^386302;var _0x651ddd;const extension=getExtensionFromMimeType(_0x4cafac)||"nib".split("").reverse().join("");_0x651ddd=(795152^795155)+(480025^480031);let _0xfg_0xa4e=drawing['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']||`drawing_${index+(758724^758725)}.${extension}`;_0xfg_0xa4e=_0xfg_0xa4e['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");drawing['\u0066\u0069\u006C\u0065']=`[FILE:${_0xf4ca2b}/drawings/${_0xfg_0xa4e}]`;drawing['\u0068\u0061\u0073\u0046\u0069\u006C\u0065']=!![];drawing['\u0066\u0069\u006C\u0065\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}}});}});}function showSimpleToast(message,type="ofni".split("").reverse().join("")){console['\u006C\u006F\u0067'](`${type}: ${message}`);if(type==="\u0065\u0072\u0072\u006F\u0072"){alert("\u274C\u0020"+message);}else if(type==="\u0077\u0061\u0072\u006E\u0069\u006E\u0067"){alert("\u26A0\uFE0F\u0020"+message);}else if(type==="\u0073\u0075\u0063\u0063\u0065\u0073\u0073"){alert("\u2705\u0020"+message);}else{alert(message);}}function formatFileSize(bytes,k){if(bytes===(701240^701240))return"\u0030\u0020\u0042\u0079\u0074\u0065\u0073";var _0x526d=(371872^371878)+(801709^801704);k=373440^374464;_0x526d='\u0063\u006B\u0064\u006A\u0063\u006B';var _0xd3d;const _0x3c5d5b=["setyB".split("").reverse().join(""),"\u004B\u0042","\u004D\u0042","\u0047\u0042"];_0xd3d="ojmhgk".split("").reverse().join("");var _0x2587ab;const i=Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u006C\u006F\u0067'](bytes)/Math['\u006C\u006F\u0067'](k));_0x2587ab=(398124^398117)+(185155^185159);return parseFloat((bytes/Math['\u0070\u006F\u0077'](k,i))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](107096^107098))+"\u0020"+_0x3c5d5b[i];}function fixMobileUI(){var _0x5g48ac=(272179^272177)+(159228^159225);const _0x4dc5d=new RegExp("iniM arepO|eliboMEI|yrreBkcalB|doPi|daPi|enohPi|SObew|diordnA".split("").reverse().join(""),'\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074']);_0x5g48ac=(872863^872862)+(285607^285603);if(!_0x4dc5d)return;console['\u006C\u006F\u0067']("\u68C0\u6D4B\u5230\u79FB\u52A8\u7AEF\uFF0C\u4FEE\u590D\u754C\u9762\u4EA4\u4E92\u002E\u002E\u002E");const _0xad_0xc68=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("tnetnoc-ladom.".split("").reverse().join(""));if(_0xad_0xc68){_0xad_0xc68['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0061\u0078\u0048\u0065\u0069\u0067\u0068\u0074']="\u0038\u0030\u0076\u0068";_0xad_0xc68['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0059']="otua".split("").reverse().join("");_0xad_0xc68['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="hcuot".split("").reverse().join("");}var _0xd19g=(692413^692413)+(446605^446607);const _0x1b4f=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u002C\u0020\u0073\u0065\u006C\u0065\u0063\u0074\u002C\u0020\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061");_0xd19g=(925680^925687)+(293302^293301);_0x1b4f['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](input=>{input['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="\u0031\u0036\u0070\u0078";input['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0066\u006F\u0063\u0075\u0073",function(){setTimeout(()=>{this['\u0073\u0063\u0072\u006F\u006C\u006C\u0049\u006E\u0074\u006F\u0056\u0069\u0065\u0077']({'\u0062\u0065\u0068\u0061\u0076\u0069\u006F\u0072':'smooth','\u0062\u006C\u006F\u0063\u006B':"\u0063\u0065\u006E\u0074\u0065\u0072"});},868479^868691);});});const _0x571a2b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0062\u0074\u006E\u002C\u0020\u002E\u0061\u0063\u0074\u0069\u006F\u006E\u002D\u0062\u0074\u006E");_0x571a2b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](btn=>{btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0048\u0065\u0069\u0067\u0068\u0074']="\u0034\u0034\u0070\u0078";btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0057\u0069\u0064\u0074\u0068']="xp44".split("").reverse().join("");btn['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0075\u0072\u0073\u006F\u0072']="\u0070\u006F\u0069\u006E\u0074\u0065\u0072";btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("elor".split("").reverse().join(""),"nottub".split("").reverse().join(""));btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("lebal-aira".split("").reverse().join(""),btn['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||"\u94AE\u6309".split("").reverse().join(""));});var _0x3beecf;const _0x89b78a=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("elbat-atad.".split("").reverse().join(""));_0x3beecf=(794936^794928)+(104423^104418);_0x89b78a['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="\u0074\u006F\u0075\u0063\u0068";table['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0058']="otua".split("").reverse().join("");});}function optimizeMobileTables(){const _0xdf195b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0064\u0061\u0074\u0061\u002D\u0074\u0061\u0062\u006C\u0065");if(_0xdf195b['\u006C\u0065\u006E\u0067\u0074\u0068']===(405756^405756))return;_0xdf195b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0074\u0061\u0062\u006C\u0065\u004C\u0061\u0079\u006F\u0075\u0074']="\u0066\u0069\u0078\u0065\u0064";table['\u0073\u0074\u0079\u006C\u0065']['\u0077\u0069\u0064\u0074\u0068']="%001".split("").reverse().join("");const _0x5ec48f=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("ht".split("").reverse().join(""));_0x5ec48f['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](th=>{th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u006F\u0073\u0069\u0074\u0069\u006F\u006E']="ykcits".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0074\u006F\u0070']="\u0030";th['\u0073\u0074\u0079\u006C\u0065']['\u007A\u0049\u006E\u0064\u0065\u0078']="\u0031";th['\u0073\u0074\u0079\u006C\u0065']['\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u0043\u006F\u006C\u006F\u0072']="af9f8f#".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="xp6 xp8".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="\u0031\u0032\u0070\u0078";});const _0x2ead0f=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0074\u0064");_0x2ead0f['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](td=>{td['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="\u0038\u0070\u0078\u0020\u0036\u0070\u0078";td['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="xp21".split("").reverse().join("");td['\u0073\u0074\u0079\u006C\u0065']['\u006C\u0069\u006E\u0065\u0048\u0065\u0069\u0067\u0068\u0074']="\u0031\u002E\u0033";td['\u0073\u0074\u0079\u006C\u0065']['\u0077\u006F\u0072\u0064\u0042\u0072\u0065\u0061\u006B']="\u0062\u0072\u0065\u0061\u006B\u002D\u0077\u006F\u0072\u0064";});});}function setupBackGestureLock(_0xb1b3aa){_0xb1b3aa=695780^695780;let _0x194c=null;history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);window['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("etatspop".split("").reverse().join(""),function(e){e['\u0070\u0072\u0065\u0076\u0065\u006E\u0074\u0044\u0065\u0066\u0061\u0075\u006C\u0074']();_0xb1b3aa++;if(_0xb1b3aa===(177740^177741)){var _0xc2f28a;const _0xf2ec=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("kcoLerutseGkcab".split("").reverse().join(""));_0xc2f28a="feogbc".split("").reverse().join("");if(_0xf2ec){_0xf2ec['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0061\u0064\u0064']("\u0073\u0068\u006F\u0077");setTimeout(()=>{_0xf2ec['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0072\u0065\u006D\u006F\u0076\u0065']("wohs".split("").reverse().join(""));},279435^280627);}if(_0x194c)clearTimeout(_0x194c);_0x194c=setTimeout(()=>{_0xb1b3aa=458058^458058;},291962^292754);}else if(_0xb1b3aa>=(441314^441312)){if(confirm("\uFF1F\u5417\u7EDF\u7CFB\u51FA\u9000\u8981\u5B9A\u786E".split("").reverse().join(""))){if(typeof logout==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){logout();}else{location['\u0072\u0065\u006C\u006F\u0061\u0064']();}}else{_0xb1b3aa=846044^846044;}}history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);});}function validateAndFixData(){try{console['\u006C\u006F\u0067']("...\u636E\u6570\u590D\u4FEE\u548C\u8BC1\u9A8C\u59CB\u5F00".split("").reverse().join(""));if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){console['\u0077\u0061\u0072\u006E']("\u0073\u0069\u0074\u0065\u0073\u0020\u4E0D\u662F\u6570\u7EC4\uFF0C\u91CD\u7F6E\u4E3A\u7A7A\u6570\u7EC4");window['\u0073\u0069\u0074\u0065\u0073']=[];}if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'])){console['\u0077\u0061\u0072\u006E']("\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067\u0020\u4E0D\u662F\u6570\u7EC4\uFF0C\u91CD\u7F6E\u4E3A\u7A7A\u6570\u7EC4");window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];}window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((site,index)=>{if(!site['\u0069\u0064']){console['\u0077\u0061\u0072\u006E'](`工地 ${index} 缺少id，重新生成`);site['\u0069\u0064']=generateId();}var _0x08e5e=(257688^257690)+(120110^120110);const _0x24cc=["\u0074\u006F\u0064\u006F\u0073","\u0065\u0078\u0070\u0065\u006E\u0073\u0065\u0073","stnemeriuqer".split("").reverse().join(""),"sriaper".split("").reverse().join(""),"srekrow".split("").reverse().join(""),"\u0061\u0064\u0064\u0052\u0065\u006D\u006F\u0076\u0065\u0049\u0074\u0065\u006D\u0073","\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073","secneirepxe".split("").reverse().join(""),"sgoLyliad".split("").reverse().join("")];_0x08e5e=897693^897691;_0x24cc['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](key=>{if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[key])){site[key]=[];}});});console['\u006C\u006F\u0067']("\u6570\u636E\u9A8C\u8BC1\u5B8C\u6210\uFF0C\u5DE5\u5730\u6570\u91CF\u003A",window['\u0073\u0069\u0074\u0065\u0073']['\u006C\u0065\u006E\u0067\u0074\u0068']);return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25\u003A",error);window['\u0073\u0069\u0074\u0065\u0073']=[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];return false;}}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0044\u004F\u004D\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u004C\u006F\u0061\u0064\u0065\u0064",function(){setTimeout(()=>{if(typeof validateAndFixData==="noitcnuf".split("").reverse().join("")){validateAndFixData();}},932927^933323);});function clearChangeLog(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u6E05\u7A7A\u66F4\u6539\u65E5\u5FD7\uFF01");return;}if(!confirm("\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u66F4\u6539\u65E5\u5FD7\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF01")){return;}window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];saveData();showChangeLog();alert("\u66F4\u6539\u65E5\u5FD7\u5DF2\u6E05\u7A7A\uFF01");}window['\u0076\u0061\u006C\u0069\u0064\u0061\u0074\u0065\u0041\u006E\u0064\u0046\u0069\u0078\u0044\u0061\u0074\u0061']=validateAndFixData;window['\u0063\u006F\u006D\u0070\u0072\u0065\u0073\u0073\u0049\u006D\u0061\u0067\u0065\u0054\u006F\u0053\u0069\u007A\u0065']=compressImageToSize;window['\u0067\u0065\u0074\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getMimeTypeFromFileName;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065']=getExtensionFromMimeType;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getExtensionFromFileName;window['\u0067\u0065\u0074\u0044\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0079\u0070\u0065\u0054\u0065\u0078\u0074']=getDrawingTypeText;window['\u0067\u0065\u0074\u0046\u0069\u006C\u0065\u0049\u0063\u006F\u006E']=getFileIcon;window['\u0063\u0068\u0065\u0063\u006B\u0044\u0061\u0074\u0061\u0053\u0069\u007A\u0065\u0042\u0065\u0066\u006F\u0072\u0065\u0055\u0070\u006C\u006F\u0061\u0064']=checkDataSizeBeforeUpload;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0044\u0061\u0074\u0065']=formatDate;window['\u0063\u006F\u006E\u0076\u0065\u0072\u0074\u0041\u006C\u006C\u0054\u0069\u006D\u0065\u0073\u0054\u006F\u0044\u0061\u0074\u0065']=convertAllTimesToDate;window['\u0072\u0065\u006D\u006F\u0076\u0065\u0041\u006C\u006C\u0042\u0061\u0073\u0065\u0036\u0034\u0044\u0061\u0074\u0061']=removeAllBase64Data;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsContent;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u006F\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsonContent;window['\u0072\u0065\u0073\u0074\u006F\u0072\u0065\u0046\u0069\u006C\u0065\u0073\u0046\u0072\u006F\u006D\u005A\u0069\u0070']=restoreFilesFromZip;window['\u0073\u0068\u006F\u0077\u0053\u0069\u006D\u0070\u006C\u0065\u0054\u006F\u0061\u0073\u0074']=showSimpleToast;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0046\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=formatFileSize;window['\u0066\u0069\u0078\u004D\u006F\u0062\u0069\u006C\u0065\u0055\u0049']=fixMobileUI;window['\u006F\u0070\u0074\u0069\u006D\u0069\u007A\u0065\u004D\u006F\u0062\u0069\u006C\u0065\u0054\u0061\u0062\u006C\u0065\u0073']=optimizeMobileTables;window['\u0073\u0065\u0074\u0075\u0070\u0042\u0061\u0063\u006B\u0047\u0065\u0073\u0074\u0075\u0072\u0065\u004C\u006F\u0063\u006B']=setupBackGestureLock;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewDrawing;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0052\u0065\u0070\u0061\u0069\u0072\u0050\u0068\u006F\u0074\u006F\u0046\u006F\u0072\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewRepairPhotoForDrawing;window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=showChangeLog;window['\u0068\u0069\u0064\u0065\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=hideChangeLog;window['\u0061\u0064\u0064\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=addChangeLog;